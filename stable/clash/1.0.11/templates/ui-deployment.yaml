{{ $values := (. | mustDeepCopy) }}
{{ $_ := set $values "common" (dict "nameSuffix" "ui") }}
{{ include "common.deployment.common_config" $values | nindent 0 }}
spec: {{ include "common.deployment.common_spec" $values | nindent 2 }}
  template: {{ include "common.deployment.pod.metadata" $values | nindent 4 }}
    spec:
      containers:
      - name: {{ .Chart.Name }}-ui
        {{ include "common.resources.limitation" . | nindent 10 }}
        {{ include "common.containers.imageConfig" .Values.uiImage.image | nindent 10 }}
        ports:
        - name: ui-tcp
          containerPort: 80
          protocol: TCP